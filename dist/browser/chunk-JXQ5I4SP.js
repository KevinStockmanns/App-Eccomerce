import{a as q}from"./chunk-JTOH4IOW.js";import{a as k}from"./chunk-WYGNNODF.js";import{a as E,b as d,c as F,d as S,e as w,g as x,i as L,n as T,o as V}from"./chunk-ZVN7DDCF.js";import"./chunk-E42GPLRZ.js";import{b as y}from"./chunk-NMAY4UGY.js";import{q as O}from"./chunk-BC2EWL22.js";import{$a as f,Bb as P,Ja as a,Ka as p,Xa as u,Z as v,Za as g,bb as c,cb as C,db as h,eb as _,fb as o,gb as i,hb as m,mb as b,vb as s,wb as M}from"./chunk-LPK2HR6M.js";function B(e,n){e&1&&(o(0,"p",9),s(1,"El correo es requerido"),i())}function I(e,n){e&1&&(o(0,"p",9),s(1,"El correo no es v\xE1lido"),i())}function j(e,n){e&1&&(o(0,"p",9),s(1,"La clave es requerida"),i())}function z(e,n){e&1&&(o(0,"p",9),s(1,"La clave es acepta letras, n\xFAmeros y caracteres especiales ('-', '_'). Debe tener entre 8 y 20 caracteres"),i())}function H(e,n){e&1&&m(0,"div",13)}function N(e,n){e&1&&s(0," Iniciar Sesi\xF3n ")}function D(e,n){if(e&1&&(o(0,"p",14),s(1),i()),e&2){let A=n.$implicit;a(),M(A.error)}}var W=(()=>{let n=class n{constructor(r,l,t){this.formBuilder=r,this.usuarioService=l,this.route=t,this.isLoading=!1,this.error=[],console.log(this.error),this.loginForm=this.formBuilder.group({correo:["",[d.required,d.email]],clave:["",[d.required,d.pattern("[a-zA-Z0-9_-]{8,20}")]]})}onSubmit(){this.isLoading=!0,this.loginForm.markAllAsTouched(),this.usuarioService.login(this.loginForm.value).subscribe({next:r=>this.isLoading=!1,error:r=>{this.isLoading=!1,console.log(r),this.error=r.error.errors||[]}})}hasErrorResponse(){}hasErrors(r,l){return this.loginForm.get(r)?.hasError(l)&&this.loginForm.get(r)?.touched}getError(r,l){return(this.loginForm.get(r)?.errors)[l]}hasValue(r){return this.loginForm.get(r)?.value}};n.\u0275fac=function(l){return new(l||n)(p(T),p(y),p(O))},n.\u0275cmp=v({type:n,selectors:[["app-login"]],standalone:!0,features:[P],decls:28,vars:15,consts:[[1,"main","content"],[1,"usuario-beneficios-content","box-shadow"],[1,"login-content","box-shadow",2,"view-transition-name","login-signup-view"],[1,"login-section"],[1,"form",3,"submit","formGroup"],[1,"form-div"],[1,"form-div-input"],["id","username","type","email","formControlName","correo"],["for","username"],[1,"form-div-error"],["id","clave","type","password","formControlName","clave"],["for","clave"],["type","submit",1,"btn","btn-primary","cursor",3,"disabled"],[1,"loader"],[1,"form-div-error",2,"text-align","center"]],template:function(l,t){l&1&&(m(0,"back-btn"),o(1,"main",0)(2,"section",1),m(3,"usuario-beneficios"),i(),o(4,"section",2)(5,"section",3)(6,"h1"),s(7,"\xA1Inicia Sesi\xF3n Ahora!"),i(),o(8,"form",4),b("submit",function(){return t.onSubmit()}),o(9,"div",5)(10,"div",6),m(11,"input",7),o(12,"label",8),s(13,"Correo"),i()(),u(14,B,2,0,"p",9)(15,I,2,0,"p",9),i(),o(16,"div",5)(17,"div",6),m(18,"input",10),o(19,"label",11),s(20,"Clave"),i()(),u(21,j,2,0,"p",9)(22,z,2,0,"p",9),i(),o(23,"button",12),u(24,H,1,0,"div",13)(25,N,1,0),i(),h(26,D,2,1,"p",14,C),i()()()()),l&2&&(a(8),g("formGroup",t.loginForm),a(2),f("withValue",t.hasValue("correo"))("error",t.hasErrors("correo","required")||t.hasErrors("correo","email")),a(4),c(14,t.hasErrors("correo","required")?14:-1),a(),c(15,t.hasErrors("correo","email")?15:-1),a(2),f("withValue",t.hasValue("clave"))("error",t.hasErrors("clave","required")||t.hasErrors("clave","pattern")),a(4),c(21,t.hasErrors("clave","required")?21:-1),a(),c(22,t.hasErrors("clave","pattern")?22:-1),a(),g("disabled",!t.loginForm.valid),a(),c(24,t.isLoading?24:25),a(2),_(t.error))},dependencies:[V,w,E,F,S,x,L,q,k],styles:["main[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:calc(100vh - var(--headerHeight) * 2);padding-bottom:1rem}main[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]{width:100%;padding:1rem}.login-content[_ngcontent-%COMP%]{display:grid;gap:.5rem;border-radius:0 0 var(--borderrHigh) var(--borderrHigh);background-color:var(--bgCardColor);transition:var(--transitionFast) ease}.login-section[_ngcontent-%COMP%]{display:grid;gap:1rem;width:100%}.login-section[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{text-align:center;font-size:2rem}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.form-div-input[_ngcontent-%COMP%]{position:relative;padding:.3rem .5rem;height:2rem;border:2px solid var(--mainColor);border-radius:var(--borderrLow)}.form-div-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;padding:0 .5rem;font-size:inherit;border:none;background-color:transparent;outline:none;transition:var(--transitionFast) ease}.form-div-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;top:.4rem;left:.5rem;font-weight:700;color:var(--textAlphaColor);transition:var(--transitionFast) ease;background-color:var(--bgCardColor);pointer-events:none;border-radius:var(--borderrLow)}.form-div-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ label[_ngcontent-%COMP%], .form-div-input.withValue[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]{top:-.6rem;font-size:.8rem;padding:0 .3rem}.form-div-input[_ngcontent-%COMP%]:not(.error)   input[_ngcontent-%COMP%]:focus ~ label[_ngcontent-%COMP%], .form-div-input.withValue[_ngcontent-%COMP%]:not(.error)   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]{color:var(--mainColor)}.form-div-input.error[_ngcontent-%COMP%]{border-color:var(--errorColor)}.form-div-input.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--errorColor)}.form-div-error[_ngcontent-%COMP%]{font-weight:700;color:var(--errorColor);font-size:.8rem}button[type=submit][_ngcontent-%COMP%]{align-self:center;display:flex;justify-content:center;align-items:center;outline:none;font-family:inherit;font-size:1rem;min-width:200px;transition:var(--transitionFast) ease}button[type=submit][_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.loader[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;border-radius:50%;border:3px solid transparent;border-top:3px solid var(--bgCardColor);animation:_ngcontent-%COMP%_rotate 1s ease-in-out infinite}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.usuario-beneficios-content[_ngcontent-%COMP%]{border-radius:var(--borderrHigh) var(--borderrHigh) 0 0;background-color:var(--mainColorBack)}@media screen and (min-width: 600px){main[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;align-items:stretch}main[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]{display:grid;place-items:center;border-radius:var(--borderrHigh)}.beneficios-usuarios-content[_ngcontent-%COMP%]{display:grid;place-items:center}}"]});let e=n;return e})();export{W as LoginComponent};
