import{O as u,e as m,h as f,i as l}from"./chunk-LPK2HR6M.js";var p=(()=>{let e=class e{constructor(){this.notifcationList=[],this.timeout=[],this._modalResponse=new f,this._notifications=new l([]),this._modal=new l(null)}notificate(t,s){let o=Object.assign({},{type:"simple",title:"",error:!1,time:1e4,message:t},s);this.notifcationList.find(i=>i.message.trim()==t.trim())?this.timeout=this.timeout.filter(i=>i.message!=t):this.notifcationList.push(o),this._notifications.next(this.notifcationList);let a=this.timeout.find(i=>i.message==t);a&&(a.timeout=clearInterval(a.timeout),this.timeout=this.timeout.filter(i=>i.message!=t)),o.time>0&&this.timeout.push({message:t,timeout:setTimeout(()=>{this.timeout=this.timeout.filter(i=>i.message!=t),this.notifcationList=this.notifcationList.filter(i=>i.message!==t),this._notifications.next(this.notifcationList),console.log("DEBERIA CERRARSE")},o.time)}),console.log(this.timeout)}closeNotification(){this.timeout=[],this._notifications.next([])}openModal(t){let r=Object.assign({},{title:"Sin titulo",desc:"desc",motivate:!0},t);return this._modal.next(r),new m(o=>{this._modalResponse.subscribe(c=>{o.next(c),o.complete()})})}closeModal(){this._modal.next(null)}confirmModal(){this._modalResponse.next(!0)}rejectModal(){this._modalResponse.next(!1)}formatMessage(t){return console.log(t.replaceAll(" ","")),t.replaceAll(" ","")}get notifications(){return this._notifications.asObservable()}get modal(){return this._modal.asObservable()}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=u({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();export{p as a};
