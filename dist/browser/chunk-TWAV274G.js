import{a as ie,b as ne}from"./chunk-E6WQJSIC.js";import"./chunk-ZVN7DDCF.js";import{a as K,b as W,j as ee,m as te}from"./chunk-E42GPLRZ.js";import{a as G}from"./chunk-MD5CZJF7.js";import{a as L}from"./chunk-DGK2EHOG.js";import{a as k}from"./chunk-RR3A66G7.js";import{a as V,b as F}from"./chunk-NMAY4UGY.js";import{c as Z,d as J,r as N,v as T}from"./chunk-BC2EWL22.js";import{$a as D,Bb as w,Cb as h,Db as g,Ha as $,Ja as s,Ka as v,Xa as u,Z as y,Za as O,aa as U,bb as C,db as M,eb as S,fa as z,fb as d,ga as E,gb as n,ha as P,hb as _,ib as b,mb as f,na as q,nb as m,sb as H,tb as j,ub as Q,vb as r,wb as A,xb as x,yb as Y,zb as X}from"./chunk-LPK2HR6M.js";var de=(()=>{let a=class a{transform(l,...o){if(!l)return null;let e=new Date(l),p="0"+e.getDate(),c=e.getMonth()+1,I="0"+e.getHours(),R="0"+e.getMinutes(),re="0"+e.getSeconds();return`${p.slice(-2)}/${("0"+c).slice(-2)}/${e.getFullYear()} ${I.slice(-2)}:${R.slice(-2)}:${re.slice(-2)}`}};a.\u0275fac=function(o){return new(o||a)},a.\u0275pipe=U({name:"datetimeformat",type:a,pure:!0,standalone:!0});let t=a;return t})();var me=["pedidoItem"],Ce=(t,a)=>a.id;function ue(t,a){if(t&1&&(d(0,"p")(1,"b"),r(2,"Fecha:"),n(),r(3),h(4,"datetimeformat"),n()),t&2){let i=m();s(3),x(" ",g(4,1,i.pedido==null?null:i.pedido.fecha),"")}}function _e(t,a){if(t&1&&(d(0,"p")(1,"b"),r(2,"Fecha:"),n(),r(3),h(4,"dateFormat"),n()),t&2){let i=m();s(3),x(" ",g(4,1,i.pedido==null?null:i.pedido.fecha),"")}}function fe(t,a){t&1&&(d(0,"p",18),r(1,"El pedido se realiz\xF3 por un usuario registrado"),n())}function he(t,a){t&1&&(d(0,"p",19),r(1,"El pedido se realiz\xF3 por un usuario NO registrado"),n())}function ge(t,a){if(t&1){let i=b();d(0,"div",10)(1,"header",15),f("click",function(){E(i);let o=m();return P(o.toggleOpenDetails())}),d(2,"span"),r(3,"DETALLES"),n(),d(4,"span",16),_(5,"fa-icon",4),n()(),d(6,"div",17),u(7,fe,2,0,"p",18)(8,he,2,0),n()()}if(t&2){let i=m();D("open",i.detailsOpen),s(5),O("icon",i.iconChevron),s(2),C(7,(i.pedido==null?null:i.pedido.idUsuario)!=null?7:8)}}function Ee(t,a){if(t&1&&(d(0,"tr")(1,"td"),r(2),h(3,"titlecase"),n(),d(4,"td"),r(5),n(),d(6,"td"),r(7),h(8,"currency"),n(),d(9,"td"),r(10),h(11,"currency"),n()()),t&2){let i=a.$implicit;s(2),A(g(3,4,i.producto.nombreProducto+" "+i.producto.nombreVersion)),s(3),A(i.cantidad),s(2),x("",g(8,6,i.precioUnitario)," ARS"),s(3),x("",g(11,8,i.cantidad*i.precioUnitario)," ARS")}}function Pe(t,a){t&1&&_(0,"app-loader")}function xe(t,a){if(t&1){let i=b();d(0,"button",23),f("click",function(){E(i);let o=m(3);return P(o.cambioEstadoFn("CANCELADO"))}),r(1,"CANCELAR PEDIDO"),n()}}function be(t,a){if(t&1){let i=b();d(0,"button",24),f("click",function(){E(i);let o=m(3);return P(o.confirmPedido())}),r(1,"CONFIRMAR"),n()}}function ve(t,a){if(t&1){let i=b();u(0,xe,2,0,"button",20),d(1,"button",21),f("click",function(){E(i);let o=m(2);return P(o.onUpdate())}),r(2,"ACTUALIZAR PEDIDO"),n(),u(3,be,2,0,"button",22)}if(t&2){let i=m(2);C(0,(i.pedido==null?null:i.pedido.estado)!="CANCELADO"?0:-1),s(3),C(3,(i.pedido==null?null:i.pedido.estado)==="PENDIENTE"||(i.pedido==null?null:i.pedido.estado)==="CANCELADO"?3:-1)}}function Oe(t,a){if(t&1){let i=b();d(0,"button",23),f("click",function(){E(i);let o=m(3);return P(o.cambioEstadoFn("CANCELADO"))}),r(1,"CANCELAR PEDIDO"),n(),d(2,"button",21),f("click",function(){E(i);let o=m(3);return P(o.onUpdate())}),r(3,"ACTUALIZAR PEDIDO"),n()}}function Ie(t,a){if(t&1){let i=b();d(0,"button",26),f("click",function(){E(i);let o=m(3);return P(o.cambioEstadoFn("PENDIENTE"))}),r(1,"REACTIVAR PEDIDO"),n()}}function Me(t,a){if(t&1&&u(0,Oe,4,0)(1,Ie,2,0,"button",25),t&2){let i=m(2);C(0,(i.pedido==null?null:i.pedido.estado)==="PENDIENTE"?0:-1),s(),C(1,(i.pedido==null?null:i.pedido.estado)==="CANCELADO"?1:-1)}}function Se(t,a){if(t&1&&u(0,ve,4,2)(1,Me,2,2),t&2){let i=m();C(0,i.isAdmin()?0:1)}}var ae=(()=>{let a=class a{constructor(l,o,e){this.usuarioService=l,this.modal=o,this.cartService=e,this.cambioEstado=new q,this.iconChevron=te,this.iconPedido=ee,this.open=!1,this.detailsOpen=!1,this.lodaingResponse=!1,this.total=0,this.usuario=l.usuario,this.isAdmin=l.isAdmin}ngOnChanges(l){l.pedido&&(this.total=this.pedido?.ordenes.reduce((o,e)=>o+e.cantidad*e.precioUnitario,0))}togglePedido(){this.open=!this.open}toggleOpenDetails(){console.log(!this.detailsOpen),this.detailsOpen=!this.detailsOpen}closePedido(l){let o=l.target;!this.element?.nativeElement.contains(o)&&!o.closest(".no-close-others")&&(this.open=!1)}cambioEstadoFn(l){let o="\xBFSeguro que desea cancelar el pedido?",e="El pedido se marcara como 'cancelado'. Por lo que no se realizaran los productos solicitados.",p=!1;l==="PENDIENTE"&&(o="\xBFDesea continuar?",e="El pedido volvera al estado 'pendiente', pero si ha pasado mucho tiempo es posible que se apliquen precios actualizados.",p=!0),this.modal.openModal({title:o,desc:e,motivate:p}).subscribe({next:c=>{c&&(this.lodaingResponse=!0,l==="CANCELADO"?this.cartService.cancelPedido(this.pedido?.id).subscribe({next:I=>{this.cambioEstado.emit({id:this.pedido?.id,estado:"CANCELADO"}),this.modal.notificate("Pedido cancelado exitosamente.",{error:!1}),this.lodaingResponse=!1},error:I=>{let R=I.error.errors[0].error||"Ocurrio un error al cancelar el pedido";this.modal.notificate(R,{error:!0,time:0}),this.lodaingResponse=!1}}):l==="PENDIENTE"&&this.cartService.reactivarPedido(this.pedido?.id).subscribe({next:I=>{this.modal.notificate("El pedido se reactivo con \xE9xito",{}),this.cambioEstado.emit({id:this.pedido?.id,estado:l}),this.lodaingResponse=!1},error:I=>{this.modal.notificate("No se pudo reactivar el pedido",{error:!0}),this.lodaingResponse=!1}}))}})}onUpdate(){this.cartService.setPedidoSelected(this.pedido)}confirmPedido(){this.cartService.setPedidoSelected(this.pedido)}stringify(l){return JSON.stringify(l)}};a.\u0275fac=function(o){return new(o||a)(v(F),v(k),v(V))},a.\u0275cmp=y({type:a,selectors:[["pedido-item"]],viewQuery:function(o,e){if(o&1&&H(me,5),o&2){let p;j(p=Q())&&(e.element=p.first)}},hostBindings:function(o,e){o&1&&f("click",function(c){return e.closePedido(c)},!1,$)},inputs:{pedido:"pedido"},outputs:{cambioEstado:"cambioEstado"},standalone:!0,features:[z,w],decls:69,vars:41,consts:[["pedidoItem",""],[1,"pedido-content","box-shadow"],[1,"pedido-header","cursor",3,"click"],[1,"pedido-header-left"],[3,"icon"],[1,"pedido-header-right"],[1,"pedido-chevron-icon"],[1,"pedido-body"],[1,"pedido-info-cliente"],[1,"nombre-cliente"],[1,"pedido-details"],[1,"table-container"],[1,"tr-total"],["colspan","3"],[1,"pedido-actions"],[1,"cursor",3,"click"],[1,"icon"],[1,"pedido-details-body"],[1,"pedido-details-user","user"],[1,"pedido-details-user"],[1,"btn","btn-simple","cursor","red"],["routerLink","update",1,"btn","btn-simple","cursor",3,"click"],["routerLink","confirm",1,"btn","btn-primary","cursor"],[1,"btn","btn-simple","cursor","red",3,"click"],["routerLink","confirm",1,"btn","btn-primary","cursor",3,"click"],[1,"btn","btn-simple","cursor"],[1,"btn","btn-simple","cursor",3,"click"]],template:function(o,e){if(o&1){let p=b();d(0,"section",1,0)(2,"article",2),f("click",function(){return E(p),P(e.togglePedido())}),d(3,"div",3)(4,"span"),_(5,"fa-icon",4),n(),d(6,"span"),r(7,"Pedido"),n(),d(8,"span"),r(9),h(10,"dateFormat"),n()(),d(11,"div",5)(12,"span",6),_(13,"fa-icon",4),n()()(),d(14,"article",7)(15,"div",8)(16,"p",9)(17,"b"),r(18,"Cliente:"),n(),r(19),h(20,"titlecase"),n(),d(21,"p")(22,"b"),r(23,"Correo:"),n(),r(24),n(),d(25,"p")(26,"b"),r(27,"Telefono:"),n(),r(28),n(),u(29,ue,5,3,"p")(30,_e,5,3),d(31,"p")(32,"b"),r(33,"Ubicaci\xF3n:"),n(),r(34),h(35,"titlecase"),h(36,"titlecase"),h(37,"titlecase"),n(),d(38,"p")(39,"b"),r(40,"Direcci\xF3n:"),n(),r(41),h(42,"titlecase"),h(43,"titlecase"),n()(),u(44,ge,9,4,"div",10),d(45,"div",11)(46,"table")(47,"thead")(48,"tr")(49,"th"),r(50,"Producto"),n(),d(51,"th"),r(52,"Cantidad"),n(),d(53,"th"),r(54,"Precio Unitario"),n(),d(55,"th"),r(56,"Subtotal"),n()()(),d(57,"tbody"),M(58,Ee,12,10,"tr",null,Ce),d(60,"tr",12)(61,"td",13),r(62,"Total"),n(),d(63,"td"),r(64),h(65,"currency"),n()()()()(),d(66,"div",14),u(67,Pe,1,0,"app-loader")(68,Se,2,1),n()()()}if(o&2){let p;D("open",e.open)("confirmado",(e.pedido==null?null:e.pedido.estado)==="CONFIRMADO")("cancelado",(e.pedido==null?null:e.pedido.estado)=="CANCELADO"),s(5),O("icon",e.iconPedido),s(4),A(g(10,25,e.pedido==null?null:e.pedido.fechaRegistro)),s(3),D("open",e.open),s(),O("icon",e.iconChevron),s(6),x(" ",g(20,27,(e.pedido==null?null:e.pedido.apellido)+", "+(e.pedido==null?null:e.pedido.nombre)),""),s(5),x(" ",e.pedido==null?null:e.pedido.correo,""),s(4),x(" ",e.pedido==null?null:e.pedido.telefono,""),s(),C(29,((p=e.usuario())==null?null:p.rol)=="SUPERADMIN"||((p=e.usuario())==null?null:p.rol)=="ADMIN"?29:30),s(5),X(" ",g(35,29,e.pedido==null||e.pedido.ubicacion==null?null:e.pedido.ubicacion.pais)," - ",g(36,31,e.pedido==null||e.pedido.ubicacion==null?null:e.pedido.ubicacion.provincia),", ",g(37,33,e.pedido==null||e.pedido.ubicacion==null?null:e.pedido.ubicacion.localidad),""),s(7),Y(" Barrio ",g(42,35,e.pedido==null||e.pedido.ubicacion==null?null:e.pedido.ubicacion.barrio),", ",g(43,37,e.pedido==null||e.pedido.ubicacion==null?null:e.pedido.ubicacion.direccion),""),s(3),C(44,e.isAdmin()?44:-1),s(14),S(e.pedido==null?null:e.pedido.ordenes),s(6),x("",g(65,39,e.total)," ARS"),s(2),D("hasLoader",e.lodaingResponse),s(),C(67,e.lodaingResponse?67:68)}},dependencies:[ne,W,K,Z,J,de,L,T,N],styles:['.pedido-content[_ngcontent-%COMP%]{width:100%;border-radius:var(--borderrLow);overflow:hidden;max-width:calc(100vw - 2rem);--mainColorBack: var(--mainColor)}.pedido-content.cancelado[_ngcontent-%COMP%]{--mainColorBack: #e23f3f;--mainMidAlphaColor: #e23f3f55;--mainLowAlphaColor: #e23f3f22}.pedido-content.confirmado[_ngcontent-%COMP%]{--mainColorBack: #34c274;--mainMidAlphaColor: #34c27455;--mainLowAlphaColor: #34c27422}.pedido-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0 1rem;width:100%;font-size:1.3rem;height:var(--headerHeight);background-color:var(--mainColorBack);color:var(--bgCardColor)}.pedido-header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.pedido-chevron-icon[_ngcontent-%COMP%]{display:inline-block;transform:rotate(0);transition:var(--transitionFast)}.pedido-chevron-icon.open[_ngcontent-%COMP%]{transform:rotate(180deg)}.pedido-body[_ngcontent-%COMP%]{position:relative;display:grid;gap:1rem;height:0;width:100%;max-width:inherit;transition:var(--transitionFast);background-color:var(--bgCardColor);overflow:hidden}.pedido-content.open[_ngcontent-%COMP%]   .pedido-body[_ngcontent-%COMP%]{height:300px;padding:1rem;overflow:auto}.pedido-content.open[_ngcontent-%COMP%]   .pedido-body[_ngcontent-%COMP%]:after{content:"";position:fixed;bottom:-1rem;left:0;width:100%;height:1rem;background:linear-gradient(180deg,transparent,var(--bgCardColor))}.pedido-info-cliente[_ngcontent-%COMP%]{display:grid;gap:.5rem;max-width:850px;font-size:1.2rem}.register-by[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:.9rem}.register-by.user[_ngcontent-%COMP%]{color:var(--mainColor)}.pedido-details[_ngcontent-%COMP%]{border-radius:var(--borderrLow);border:1px solid var(--textAlphaColor);transition:var(--transitionUltraFast)}.pedido-details[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{position:relative;justify-self:center;padding:.5rem;width:100%;text-align:center;font-size:1.1rem}.pedido-details[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]:after{content:"";position:absolute;left:3rem;bottom:.2rem;width:calc(100% - 6rem);height:1px;background-color:var(--textAlphaColor);transform:scaleX(0);transition:var(--transitionUltraFast)}.pedido-details.open[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]:after{transform:scaleX(1);transition:var(--transitionFast) var(--transitionUltraFast)}.pedido-details[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;transition:var(--transitionUltraFast)}.pedido-details.open[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:rotate(180deg)}.pedido-details-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;transition:inherit;transform-origin:top;transform:scaleY(0);max-height:0}.pedido-details.open[_ngcontent-%COMP%]   .pedido-details-body[_ngcontent-%COMP%]{padding:.5rem;max-height:100px;transform:scaleY(1)}.pedido-details-user[_ngcontent-%COMP%]{font-weight:700}.pedido-details-user.user[_ngcontent-%COMP%]{color:var(--mainColor)}.table-container[_ngcontent-%COMP%]{width:100%;height:100%;min-height:200px;overflow:auto}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{font-size:1.3rem;background-color:var(--mainMidAlphaColor);color:var(--textColor);overflow:auto}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{font-size:1.1rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--mainLowAlphaColor)}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:2px solid var(--greyAlphaLightColor);text-align:center;padding:.3rem .5rem}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{text-align:start}.tr-total[_ngcontent-%COMP%]{font-weight:700}.tr-total[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{text-align:right}.tr-total[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{text-align:center}.pedido-actions[_ngcontent-%COMP%]{display:grid;gap:.5rem;width:100%;max-width:inherit;transition:var(--transitionFast)}.pedido-actions.hasLoader[_ngcontent-%COMP%]{justify-content:center}@media screen and (min-width: 500px){.pedido-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:0}}@media screen and (min-width: 700px){.pedido-info-cliente[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;margin:0 auto}}']});let t=a;return t})();var B=(t,a)=>a.id;function Ae(t,a){if(t&1&&(d(0,"p"),r(1),n()),t&2){let i=m();s(),x("Aqu\xED podras ver los pedidos",i.isAdmin()?" ":" que has realizado ","incluyendo los pendientes, cancelados, confirmados y comprados")}}function De(t,a){t&1&&(d(0,"section",3)(1,"h2"),r(2,"Pedido Actual"),n(),_(3,"app-cart")(4,"div",2),n())}function ye(t,a){t&1&&_(0,"app-loader",4)}function we(t,a){if(t&1){let i=b();d(0,"pedido-item",8),f("cambioEstado",function(o){E(i);let e=m(2);return P(e.onCambioEstado(o))}),n()}if(t&2){let i=a.$implicit;O("pedido",i)}}function Ne(t,a){if(t&1&&(d(0,"section",6)(1,"h2"),r(2,"Pedidos Pendientes"),n(),d(3,"p"),r(4),n(),d(5,"div",7),M(6,we,1,1,"pedido-item",null,B),n()(),_(8,"div",2)),t&2){let i=m();s(4),x("Estos son los pedidos que a\xFAn no han sido confirmados",i.isAdmin()?"":" por el vendedor"," y estan en la espera de su confirmaci\xF3n"),s(2),S(i.pedidoPendiente)}}function Te(t,a){t&1&&(d(0,"p"),r(1,"Estos son los pedidos que haz comprado"),n())}function Ve(t,a){if(t&1&&(d(0,"section",9)(1,"h2"),r(2),n(),u(3,Te,2,0,"p"),n(),_(4,"div",2)),t&2){let i=m();s(2),x("Pedidos ",i.isAdmin()?"Vendidos":"Comprados",""),s(),C(3,i.isAdmin()?-1:3)}}function Fe(t,a){t&1&&(d(0,"span"),r(1,"Tienes hasta 24 horas para cancelar una vez que fue confirmado."),n())}function ke(t,a){if(t&1){let i=b();d(0,"pedido-item",8),f("cambioEstado",function(o){E(i);let e=m(2);return P(e.onCambioEstado(o))}),n()}if(t&2){let i=a.$implicit;O("pedido",i)}}function Le(t,a){if(t&1&&(d(0,"section",10)(1,"h2"),r(2,"Pedidos Confirmados"),n(),d(3,"p"),r(4,"Estos son los pedidos que estan confirmados, proximos a realizarse. "),u(5,Fe,2,0,"span"),n(),d(6,"div",7),M(7,ke,1,1,"pedido-item",null,B),n()(),_(9,"div",2)),t&2){let i=m();s(5),C(5,i.isAdmin()?-1:5),s(2),S(i.pedidoConfirmado)}}function Re(t,a){if(t&1){let i=b();d(0,"pedido-item",8),f("cambioEstado",function(o){E(i);let e=m(2);return P(e.onCambioEstado(o))}),n()}if(t&2){let i=a.$implicit;O("pedido",i)}}function Be(t,a){if(t&1&&(d(0,"section",11)(1,"h2"),r(2,"Pedidos Cancelados"),n(),d(3,"p"),r(4,"Estos son los pedidos que han sido cancelados."),n(),d(5,"div",7),M(6,Re,1,1,"pedido-item",null,B),n()(),_(8,"div",2)),t&2){let i=m();s(6),S(i.pedidoCancelado)}}function Ue(t,a){t&1&&(d(0,"p",5),r(1,"A\xFAn no se han registrado pedidos. "),d(2,"a",12),r(3,"Ir a la tienda"),n()())}var lt=(()=>{let a=class a{constructor(l,o,e){this.cartService=l,this.notification=o,this.usuarioService=e,this.cartHasItem=!1,this.cartEmpty=!1,this.pedidoCancelado=[],this.pedidoVendido=[],this.pedidoConfirmado=[],this.pedidoPendiente=[],this.loading=!1,this.isAdmin=this.usuarioService.isAdmin,this.cartService.cart.subscribe(p=>{this.cartHasItem=p.length>0,this.cartEmpty=this.isCartEmpty()}),this.loading=!0,this.cartService.getPedidos().subscribe({next:p=>{this.pedidoCancelado=p.body.content.filter(c=>c.estado==="CANCELADO"),this.pedidoConfirmado=p.body.content.filter(c=>c.estado==="CONFIRMADO"),this.pedidoVendido=p.body.content.filter(c=>c.estado==="VENDIDO"),this.pedidoPendiente=p.body.content.filter(c=>c.estado==="PENDIENTE"),this.cartEmpty=this.isCartEmpty(),this.loading=!1},error:p=>{p.error.errors?p.error.errors.forEach(c=>{o.notificate(c.error,{error:!0})}):o.notificate("No se pudo obtener los pedidos. Intentalo de nuevo m\xE1s tarde.",{error:!0}),this.loading=!1}})}onCambioEstado(l){let o=this.pedidoPendiente.findIndex(c=>c.id===l.id),e,p="";o!==-1?(p="PENDIENTE",e=this.pedidoPendiente[o]):(o=this.pedidoConfirmado.findIndex(c=>c.id===l.id),o!==-1?(p="CONFIRMADO",e=this.pedidoConfirmado[o]):(o=this.pedidoVendido.findIndex(c=>c.id===l.id),o!==-1?(p="VENDIDO",e=this.pedidoVendido[o]):(o=this.pedidoCancelado.findIndex(c=>c.id===l.id),p="CANCELADO",e=this.pedidoCancelado[o]))),p==="PENDIENTE"?(this.pedidoPendiente=this.pedidoPendiente.filter(c=>c.id!==e.id),l.estado==="CANCELADO"?(e.estado="CANCELADO",this.pedidoCancelado.push(e)):l.estado==="VENDIDO"?(e.estado="VENDIDO",this.pedidoVendido.push(e)):l.estado==="CONFIRMADO"&&(e.estado,this.pedidoVendido.push(e))):p==="CANCELADO"?(this.pedidoCancelado=this.pedidoCancelado.filter(c=>c.id!==e.id),l.estado==="PENDIENTE"?(e.estado="PENDIENTE",this.pedidoPendiente.push(e)):l.estado==="VENDIDO"?(e.estado="VENDIDO",this.pedidoVendido.push(e)):l.estado==="CONFIRMADO"&&(e.estado,this.pedidoVendido.push(e))):p==="CONFIRMADO"&&(this.pedidoConfirmado=this.pedidoConfirmado.filter(c=>c.id!==e.id),l.estado==="PENDIENTE"?(e.estado="PENDIENTE",this.pedidoPendiente.push(e)):l.estado==="VENDIDO"?(e.estado="VENDIDO",this.pedidoVendido.push(e)):l.estado==="CANCELADO"&&(e.estado,this.pedidoCancelado.push(e)))}isCartEmpty(){return!this.cartHasItem&&this.pedidoCancelado.length===0&&this.pedidoVendido.length===0&&this.pedidoConfirmado.length===0&&this.pedidoPendiente.length===0}};a.\u0275fac=function(o){return new(o||a)(v(V),v(k),v(F))},a.\u0275cmp=y({type:a,selectors:[["app-cart-page"]],standalone:!0,features:[w],decls:13,vars:9,consts:[[1,"main","content","paddbot"],[1,"title"],[1,"line-separator"],[1,"mis-pedidos"],["size","3.5rem"],[1,"cart-empty"],[1,"pedidos-pendientes"],[1,"pedidos"],[3,"cambioEstado","pedido"],[1,"pedidos-comprados"],[1,"pedidos-confirmados"],[1,"pedidos-cancelados"],["routerLink","/productos"]],template:function(o,e){o&1&&(_(0,"app-header"),d(1,"main",0)(2,"h1",1),r(3),n(),u(4,Ae,2,1,"p"),_(5,"div",2),u(6,De,5,0,"section",3)(7,ye,1,0,"app-loader",4)(8,Ne,9,1)(9,Ve,5,2)(10,Le,10,1)(11,Be,9,0)(12,Ue,4,0,"p",5),n()),o&2&&(s(3),A(e.isAdmin()?"Pedidos":"Mis Pedidos"),s(),C(4,e.cartEmpty?-1:4),s(2),C(6,e.cartHasItem&&!e.loading?6:-1),s(),C(7,e.loading?7:-1),s(),C(8,e.pedidoPendiente.length>0?8:-1),s(),C(9,e.pedidoVendido.length>0?9:-1),s(),C(10,e.pedidoConfirmado.length>0?10:-1),s(),C(11,e.pedidoCancelado.length>0?11:-1),s(),C(12,e.cartEmpty&&!e.loading?12:-1))},dependencies:[G,ie,T,N,ae,L],styles:["main[_ngcontent-%COMP%]{display:grid;padding:1rem}.line-separator[_ngcontent-%COMP%]{margin:1rem 0}main[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]{display:grid;gap:.5rem}.pedidos[_ngcontent-%COMP%]{display:grid;gap:.5rem}.cart-empty[_ngcontent-%COMP%]{text-align:center;font-size:1.2rem}"]});let t=a;return t})();export{lt as CartPageComponent};
