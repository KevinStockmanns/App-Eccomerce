import{h,w as o}from"./chunk-BC2EWL22.js";import{O as f,T as l}from"./chunk-LPK2HR6M.js";var y=(()=>{let u=class u{constructor(){}deleteObjectEmpty(t){if(typeof t!="object"||t===null)return t;for(let e in t)Array.isArray(t[e])?this.deleteObjectEmpty(t[e]):typeof t[e]=="object"&&!Array.isArray(t[e])&&t[e]!=null&&t[e]!=null&&this.deleteObjectEmpty(t[e]),(!t[e]&&t[e]!=0||t[e].length==0||JSON.stringify(t[e])=="{}")&&delete t[e];return t}getChanges(t,e,r,s){let n=Array.isArray(e)?[]:{};for(let i in e){if(r?.includes(i)){n[i]=e[i];continue}if(Array.isArray(e[i]))n[i]=e[i].map(c=>{if(s&&c[s]){let p=t[i].find(g=>g[s]===c[s]);return p?this.getChanges(p,c,r,s):c}return c}).filter(c=>Object.keys(c).length>0),n[i].length===0&&delete n[i];else if(typeof e[i]=="object"&&e[i]!==null){let c=this.getChanges(t[i],e[i],r,s);Object.keys(c).length>0&&(n[i]=c)}else t[i]!=e[i]&&(n[i]=e[i])}return n}getQueryParams(t){let e=[];for(let r in t)e.push(`${r}=${t[r]}`);return e}getQuerysForPath(t){let e=this.getQueryParams(t),r="?";return e.length==0?null:(e.forEach((s,n)=>{n!=0&&(r+="&"),r+=s}),r)}synchronizeData(t,e){for(let r in t)if(e.hasOwnProperty(r))if(Array.isArray(t[r])&&Array.isArray(e[r]))for(let s=0;s<e.length;s++)s<t[r].length?t[s]=this.synchronizeData(t[r][s],e[r][s]):t.push(this.maintainStructure(t[r][0],e[r][s]));else typeof t[r]=="object"&&typeof e[r]=="object"?t[r]=this.synchronizeData(t[r],e[r]):t[r]!=e[r]&&(t[r]=e[r]);return t}maintainStructure(t,e){if(Array.isArray(t)&&Array.isArray(e))return e.map((r,s)=>this.maintainStructure(t[0],r));if(typeof t=="object"&&typeof e=="object"){let r={};for(let s in t)e.hasOwnProperty(s)&&(r[s]=this.maintainStructure(t[s],e[s]));return r}else return e}};u.\u0275fac=function(e){return new(e||u)},u.\u0275prov=f({token:u,factory:u.\u0275fac,providedIn:"root"});let a=u;return a})();var P=(()=>{let u=class u{constructor(t,e){this.http=t,this.utils=e}getProductos(t){return this.http.get(`${o}/producto${this.utils.getQuerysForPath(t)}`)}getProducto(t){return this.http.get(`${o}/producto/${t}`)}createProducto(t){return this.http.post(`${o}/producto`,t)}uploadImage(t,e,r){let s="";return r!==void 0&&(s=`?estado=${r}`),this.http.post(`${o}/producto/version/${e}/imagen`+s,t)}activateProduct(t,e){return this.http.patch(`${o}/producto/activar/${t}${this.utils.getQuerysForPath(e)}`,null)}updateProducto(t,e){return this.http.put(`${o}/producto/${t}`,e)}setProductoSelected(t){t==null?localStorage.removeItem("productoSelected"):localStorage.setItem("productoSelected",JSON.stringify(t))}get productoSelected(){return JSON.parse(localStorage.getItem("productoSelected"))}};u.\u0275fac=function(e){return new(e||u)(l(h),l(y))},u.\u0275prov=f({token:u,factory:u.\u0275fac,providedIn:"root"});let a=u;return a})();export{y as a,P as b};
